<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no">
    <title>Problem Set</title>
    <link rel="stylesheet" href="../../static/plugin/semanticui/semantic.min.css" th:href="@{/plugin/semanticui/semantic.min.css}">
    <script src="../../static/js/jquery-3.4.1.min.js" th:src="@{/js/jquery-3.4.1.min.js}"></script>
    <script src="../../static/plugin/semanticui/semantic.min.js" th:src="@{/plugin/semanticui/semantic.min.js}"></script>
    <link rel="stylesheet" href="../../static/css/me.css" th:href="@{/css/me.css}">
</head>
<body>
<!--导航栏-->
<div class="ui attached" th:replace="_fragments::nav(2)">
    <div class="ui fluid  container ">
        <div class="ui huge grid secondary pointing  stackable  menu padded">
            <a href="#" class="ui item menu toggle icon button m-right-top m-mobile-show">
                <i class="sidebar icon"></i>
            </a>
            <div class="ui header item m-item m-mobile-hide m-text-large m-padded-b-tiny m-text-thin m-opacity-mini">
                Online Judge
            </div>
            <a href="#" class="ui item m-item m-mobile-hide"><i class="small home icon"></i>Home</a>
            <a href="#" class="ui item m-item m-mobile-hide active blue"><i class="small th icon"></i>Problem</a>
            <a href="#" class="ui item m-item m-mobile-hide"><i class="small bell icon"></i>Contest</a>
            <a href="#" class="ui item m-item m-mobile-hide"><i class="small edit icon"></i>Status</a>
            <a href="#" class="ui item m-item m-mobile-hide"><i class="small trophy icon"></i>Rank</a>
            <a href="#" class="ui item m-item m-mobile-hide"><i class="small file alternate outline icon"></i>Blog</a>
            <a href="#" class="ui item m-item m-mobile-hide"><i class="small envelope icon"></i>Message</a>
            <a href="#" class="ui item m-item m-mobile-hide"><i class="small paper plane icon"></i>Tool</a>
            <div class="ui item m-item m-mobile-hide  right floated m-margin-r" style="height: 48px">
                <a href="#" class="m-margin-r m-black">Login</a>
                <a href="#" class="m-margin-r m-black">Register</a>
                <a href="#" class="m-margin-r-medium"><img src="../../static/img/35.jpg" class="ui avatar image"
                                                           style=""></a>
            </div>
        </div>
    </div>
</div>


<div class="m-margin-large">
    <div class="ui fluid container">
        <div class="ui stackable grid">

            <!--        比赛列表-->
            <div class="sixteen wide column">
                <div class="ui attached  segment">
                    <!--            搜索栏-->
                    <div class="ui stackable">
                        <form action="" method="get" class="m-inline-block" th:action="@{'/problem/list/'+${page.current}}">
                            <div class="ui action input">
                                <input type="hidden" name="probId" th:value="${problemVo.probId}">
                                <input type="hidden" name="oj" th:value="${problemVo.oj}">
                                <input type="text" name="title" placeholder="title..."  th:value="${problemVo.title}">
                                <button type="submit" class="ui icon button basic">
                                    <i class="search icon"></i>
                                </button>
                            </div>
                        </form>

                        <form action="" method="get" class="m-inline-block m-margin-l-large"
                              th:action="@{'/problem/list/'+${page.current}}">
                            <div class="ui action input">
                                <input type="hidden" name="oj" th:value="${problemVo.oj}">
                                <input type="hidden" name="title" th:value="${problemVo.title}">
                                <input type="text" name="probId" placeholder="probId..." th:value="${problemVo.probId}">
                                <button type="submit" class="ui icon button basic">
                                    <i class="search icon"></i>
                                </button>
                            </div>
                        </form>

                        <select name="oj" class="ui oj search dropdown m-margin-l-large">
                            <option value="">选择OJ</option>
                            <option value="ALL">All</option>
                            <option value="ALL"  th:each="oj:${OJList}" th:value="${oj}" th:text="${oj}">All</option>
                            <!--/*-->
                            <option value="HDU">HDU</option>
                            <option value="CodeForces">CodeForces</option>
                            <option value="POJ">POJ</option>
                            <!--*/-->
                        </select>
                    </div>

                    <!--分割线-->
                    <div class="ui divider"></div>

                    <!--中间内容-->
                    <table class="ui tiny fluid selectable striped table">
                        <thead>
                        <tr>
                            <th>#</th>
                            <th>OJ</th>
                            <th>Prob</th>
                            <th>Title</th>
                            <th>Source</th>
<!--                            <th>Ratio</th>-->
                        </tr>
                        </thead>
                        <tbdoy>
                            <tr th:each="problem,stat:${problemList}">
                                <td th:text="${(page.current - 1)*page.size + stat.count}">1000</td>
                                <td th:text="${problem.originOJ}">CodeForces</td>
                                <td ><a href="" target="_blank" th:href="${problem.url}" th:text="${problem.originProb}">1010075F</a></td>
                                <td ><a href="" target="_blank" th:href="@{/problem/{pid}(pid=${problem.pid})}" th:text="${problem.title}">"Or" Game</a></td>
                                <td th:utext="${problem.source}">Educational Codeforces Round 58 (Rated for Div. 2)</td>
<!--                                <td>1/1</td>-->
                            </tr>
                            <!--/*-->
                            <tr>
                                <td>1000</td>
                                <td>CodeForces</td>
                                <td>1010075F</td>
                                <td>"Or" Game</td>
                                <td>Educational Codeforces Round 58 (Rated for Div. 2)</td>
                                <td>1/1</td>
                            </tr>
                            <tr>
                                <td>1000</td>
                                <td>CodeForces</td>
                                <td>1010075F</td>
                                <td>"Or" Game</td>
                                <td>Educational Codeforces Round 58 (Rated for Div. 2)</td>
                                <td>1/1</td>
                            </tr>
                            <tr>
                                <td>1000</td>
                                <td>CodeForces</td>
                                <td>1010075F</td>
                                <td>"Or" Game</td>
                                <td>Educational Codeforces Round 58 (Rated for Div. 2)</td>
                                <td>1/1</td>
                            </tr>
                            <tr>
                                <td>1000</td>
                                <td>CodeForces</td>
                                <td>1010075F</td>
                                <td>"Or" Game</td>
                                <td>Educational Codeforces Round 58 (Rated for Div. 2)</td>
                                <td>1/1</td>
                            </tr>
                            <tr>
                                <td>1000</td>
                                <td>CodeForces</td>
                                <td>1010075F</td>
                                <td>"Or" Game</td>
                                <td>Educational Codeforces Round 58 (Rated for Div. 2)</td>
                                <td>1/1</td>
                            </tr>
                            <!--*/-->
                        </tbdoy>
                    </table>

                    <!--                分页菜单-->
                    <div class="ui pagination menu m-margin-top" th:if="${page}!=null">
                        <a class="item"
                           th:href="@{/problem/list/{page}(page=${page.current - 1 >1?page.current -1: 1},probId=${problemVo.probId},oj=${problemVo.oj},title=${problemVo.title}) }">
                            <i class="angle left icon"></i></a>
                        <a class="item" th:each="i:${#numbers.sequence(page.begin,page.end)}"
                           th:href="@{/problem/list/{page}(page=${i},probId=${problemVo.probId},oj=${problemVo.oj},title=${problemVo.title}) }"
                           th:attr="data-pagenum=${i}" th:text="${i}"
                           th:classappend="${i==page.current?'active':''}">1</a>
                        <!--/*-->
                        <a class="item">10</a>
                        <a class="item">11</a>
                        <a class="item">12</a>
                        <!--*/-->
                        <a class="item"
                           th:href="@{/problem/list/{page}(page=${page.current + 1 > page.pages?page.pages: page.current + 1},probId=${problemVo.probId},oj=${problemVo.oj},title=${problemVo.title}) }"
                        ><i class="angle right icon"></i></a>
                    </div>
                </div>
            </div>



        </div>
    </div>

</div>

<br><br><br><br><br><br><br><br><br><br>
<footer th:replace="_fragments::footer"></footer>

<script th:replace="_fragments::scriptFragment">
    $('.menu.toggle').click(function () {
        $('.m-item').toggleClass('m-mobile-hide');
    });
</script>

<script>
    $('.oj.ui.dropdown')
        .dropdown({
            // 当选择相应 oj后，用ajax发送请求

            onChange: function (value, text, $selectedItem) {
                $('[name=oj]').val(value);
                console.log(value);

            }
        });
    $('.ui.oj.dropdown').dropdown('set selected','[[${problemVo.oj}]]')

</script>

</body>
</html>